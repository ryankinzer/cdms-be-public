--This file should be run on CDMS; it has only the core items.

CREATE TABLE [dbo].[Permits] (
    [Id] [int] NOT NULL IDENTITY,
    [AllotmentName] [nvarchar](max),
    [ProjectName] [nvarchar](max),
    [PermitNumber] [nvarchar](max),
    [PermitType] [int],
    [ApplicationDate] [datetime],
    [ImprovementType] [nvarchar](max),
    [IssueDate] [datetime],
    [IssuedBy] [nvarchar](max),
    [ReviewedBy] [nvarchar](max),
    [ExpireDate] [datetime],
    [CloseDate] [datetime],
    [PermitStatus] [nvarchar](max),
    [StatusDate] [datetime],
    [StatusBy] [nvarchar](max),
    [StatusNotes] [nvarchar](max),
    [PermitConditions] [nvarchar](max),
    [PermitFile] [nvarchar](max),
    [Finding] [nvarchar](max),
    [FindingDate] [datetime],
    [Fee] [decimal](18, 2),
    [FeePaymentDate] [datetime],
    [FeePaymentAmount] [decimal](18, 2),
    [FeePaymentType] [nvarchar](max),
    [FeePaymentMethod] [nvarchar](max),
    [FeePaymentReference] [nvarchar](max),
    [FeePaidBy] [nvarchar](max),
    [FeeReceivedBy] [nvarchar](max),
    [Zoning] [nvarchar](max),
    [GISUpdateRequired] [bit],
    [GISUpdateComplete] [bit],
    [Comments] [nvarchar](max),
    [SiteAddress] [nvarchar](max),
    [SquareFeet] [nvarchar](max),
    [SiteCity] [nvarchar](max),
    [SiteState] [nvarchar](max),
    [SiteZip] [nvarchar](max),
    [SiteTownship] [nvarchar](max),
    [SiteRange] [nvarchar](max),
    [SiteSection] [nvarchar](max),
    [SiteQuarter] [nvarchar](max),
    [SiteSixteenth] [nvarchar](max),
    [Valuation] [decimal](18, 2),
    [BuildingUse] [nvarchar](max),
    [LegalDescription] [nvarchar](max),
    [IsVoid] [bit],
    [IsFloodHazardOverlay] [bit],
    [OccupationalGroup] [nvarchar](max),
    [ConstructionType] [nvarchar](max),
    [BusinessName] [nvarchar](max),
    [COStatus] [nvarchar](max),
    [COIssueDate] [datetime],
    [COConditions] [nvarchar](max),
    CONSTRAINT [PK_dbo.Permits] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[PermitEvents] (
    [Id] [int] NOT NULL IDENTITY,
    [PermitId] [int] NOT NULL,
    [ByUser] [int] NOT NULL,
    [EventDate] [datetime] NOT NULL,
    [EventType] [nvarchar](max),
    [ItemType] [nvarchar](max),
    [RequestDate] [datetime],
    [ResponseDate] [datetime],
    [Reviewer] [nvarchar](max),
    [Result] [nvarchar](max),
    [Reference] [nvarchar](max),
    [Comments] [nvarchar](max),
    [Files] [nvarchar](max),
    CONSTRAINT [PK_dbo.PermitEvents] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[PermitPersons] (
    [Id] [int] NOT NULL IDENTITY,
    [Organization] [nvarchar](max),
    [Prefix] [nvarchar](max),
    [FirstName] [nvarchar](max),
    [LastName] [nvarchar](max),
    [Suffix] [nvarchar](max),
    [FullName] [nvarchar](max),
    [MailingAddress1] [nvarchar](max),
    [MailingAddress2] [nvarchar](max),
    [MailingCity] [nvarchar](max),
    [MailingState] [nvarchar](max),
    [MailingZip] [nvarchar](max),
    [PhysicalAddress1] [nvarchar](max),
    [PhysicalAddress2] [nvarchar](max),
    [PhysicalCity] [nvarchar](max),
    [PhysicalState] [nvarchar](max),
    [PhysicalZip] [nvarchar](max),
    [IsMailingDifferent] [bit],
    [HomePhone] [nvarchar](max),
    [WorkPhone] [nvarchar](max),
    [CellPhone] [nvarchar](max),
    [Fax] [nvarchar](max),
    [Email] [nvarchar](max),
    [LastUpdated] [datetime],
    [UpdatedBy] [nvarchar](max),
    [Inactive] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.PermitPersons] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[PermitTypes] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](max),
    [Description] [nvarchar](max),
    [PermitTypeStatus] [int] NOT NULL,
    [PermitNumberPrefix] [nvarchar](max),
    [FeeRequired] [float] NOT NULL,
    [TemplateFile] [nvarchar](max),
    [StampRequired] [bit] NOT NULL,
    [InspectionsRequired] [nvarchar](max),
    [ApprovalsRequired] [nvarchar](max),
    CONSTRAINT [PK_dbo.PermitTypes] PRIMARY KEY ([Id])
)